var PortalGun=function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){var r,i,o,s,u,c,a,f=function(t,e){return function(){return t.apply(e,arguments)}};u=window.Promise||n(1),r=window.self!==window.top,i=1e3,c=function(){var t,e,n;return n=null,e=null,t=new u(function(t,r){return n=t,e=r}),t.resolve=n,t.reject=e,t},s=function(){function t(t){this.timeout=t,this.resolveMessage=f(this.resolveMessage,this),this.postMessage=f(this.postMessage,this),this.setTimeout=f(this.setTimeout,this),this.lastMessageId=0,this.pendingMessages={}}return t.prototype.setTimeout=function(t){return this.timeout=t,null},t.prototype.postMessage=function(t,e){var n,r,i,o;null==e&&(e=[]),n=c(),o={method:t,params:e};try{this.lastMessageId+=1,i=this.lastMessageId,o.id=i,o._portal=!0,o.jsonrpc="2.0",this.pendingMessages[o.id]=n,window.parent.postMessage(JSON.stringify(o),"*")}catch(s){r=s,n.reject(r)}return window.setTimeout(function(){return n.reject(new Error("Message Timeout"))},this.timeout),n},t.prototype.resolveMessage=function(t){return this.pendingMessages[t.id]?t.error?this.pendingMessages[t.id].reject(new Error(t.error.message)):this.pendingMessages[t.id].resolve(t.result||null):u.reject("Method not found")},t}(),o=function(){function t(){this.register=f(this.register,this),this.onMessage=f(this.onMessage,this),this.isValidOrigin=f(this.isValidOrigin,this),this.validateParent=f(this.validateParent,this),this.get=f(this.get,this),this.down=f(this.down,this),this.up=f(this.up,this),this.config={trusted:null,subdomains:!1,timeout:i},this.poster=new s({timeout:this.config.timeout}),this.registeredMethods={ping:function(){return"pong"}}}return t.prototype.up=function(t){var e,n,r,i;return i=null!=t?t:{},r=i.trusted,e=i.subdomains,n=i.timeout,void 0!==r&&(this.config.trusted=r),null!=e&&(this.config.subdomains=e),null!=n&&(this.config.timeout=n),this.poster.setTimeout(this.config.timeout),window.addEventListener("message",this.onMessage)},t.prototype.down=function(){return window.removeEventListener("message",this.onMessage)},t.prototype.get=function(t,e){var n,i;return null==e&&(e=[]),"[object Array]"!==Object.prototype.toString.call(e)&&(e=[e]),i=function(t){return function(e,n){var r;return r=t.registeredMethods[e]||function(){throw new Error("Method not found")},r.apply(null,n)}}(this),r?(n=null,this.validateParent().then(function(n){return function(){return n.poster.postMessage(t,e)}}(this))["catch"](function(r){return n=r,i(t,e)})["catch"](function(t){throw"Method not found"===t.message&&null!==n?n:t})):new u(function(n){return n(i(t,e))})},t.prototype.validateParent=function(){return this.poster.postMessage("ping")},t.prototype.isValidOrigin=function(t){var e,n;return(null!=(n=this.config)?n.trusted:void 0)?(e=new RegExp(this.config.subdomains?"^https?://(\\w+\\.)?(\\w+\\.)?"+(""+this.config.trusted.replace(/\./g,"\\.")+"/?$"):"^https?://"+(""+this.config.trusted.replace(/\./g,"\\.")+"/?$")),e.test(t)):!0},t.prototype.onMessage=function(t){var e,n,r,i,o,s;try{if(i="string"==typeof t.data?JSON.parse(t.data):t.data,!i._portal)throw new Error("Non-portal message");return r=!!i.method,r?(n=i.id,o=i.method,s=i.params,this.get(o,s).then(function(e){return i={id:n,result:e,_portal:!0,jsonrpc:"2.0"},t.source.postMessage(JSON.stringify(i),"*")})["catch"](function(e){var r;return r=function(){switch(e.message){case"Method not found":return-32601;default:return-1}}(),i={_portal:!0,jsonrpc:"2.0",id:n,error:{code:r,message:e.message}},t.source.postMessage(JSON.stringify(i),"*")})):(this.isValidOrigin(t.origin)||(i.error={message:"Invalid origin "+t.origin,code:-1}),this.poster.resolveMessage(i))}catch(u){e=u,console.log(e)}},t.prototype.register=function(t,e){return this.registeredMethods[t]=e},t}(),a=new o,t.exports={up:a.up,down:a.down,get:a.get,register:a.register}},function(t,e,n){(function(t,e){!function(){function n(e){t.setImmediate?setImmediate(e):t.importScripts?setTimeout(e):(i++,o[i]=e,t.postMessage(i,"*"))}function r(t){function e(t,e,n,r){if("object"!=typeof a&&"function"!=typeof a||"function"!=typeof t)r();else try{var i=0;t.call(a,function(t){i++||(a=t,e())},function(t){i++||(a=t,n())})}catch(o){a=o,n()}}function i(){var t;try{t=a&&a.then}catch(n){return a=n,c=2,i()}e(t,function(){c=1,i()},function(){c=2,i()},function(){try{1==c&&"function"==typeof o?a=o(a):2==c&&"function"==typeof s&&(a=s(a),c=1)}catch(n){return a=n,h()}a==u?(a=TypeError(),h()):e(t,function(){h(3)},h,function(){h(1==c&&3)})})}if("function"!=typeof t&&void 0!=t)throw TypeError();var o,s,u=this,c=0,a=0,f=[];u.promise=u,u.resolve=function(t){return o=this.fn,s=this.er,c||(a=t,c=1,n(i)),this},u.reject=function(t){return o=this.fn,s=this.er,c||(a=t,c=2,n(i)),this},u.then=function(t,e){var n=new r;return n.fn=t,n.er=e,3==c?n.resolve(a):4==c?n.reject(a):f.push(n),n},u["catch"]=function(t){return u.then(null,t)};var h=function(t){c=t||4,f.map(function(t){3==c&&t.resolve(a)||t.reject(a)})};try{"function"==typeof t&&t(u.resolve,u.reject)}catch(p){u.reject(p)}return u}t=this;var i=1,o={},s=!1;t.setImmediate||t.addEventListener("message",function(e){if(e.source==t)if(s)n(o[e.data]);else{s=!0;try{o[e.data]()}catch(e){}delete o[e.data],s=!1}}),r.resolve=function(t){if(1!=this._d)throw TypeError();return new r(function(e){e(t)})},r.reject=function(t){if(1!=this._d)throw TypeError();return new r(function(e,n){n(t)})},r.all=function(t){function e(r,i){if(i)return n.resolve(i);if(r)return n.reject(r);var o=t.reduce(function(t,e){return e&&e.then?t+1:t},0);0==o&&n.resolve(t),t.map(function(n,r){n&&n.then&&n.then(function(n){return t[r]=n,e(),n},e)})}if(1!=this._d)throw TypeError();if(!(t instanceof Array))return r.reject(TypeError());var n=new r;return e(),n},r.race=function(t){function e(r,i){if(i)return n.resolve(i);if(r)return n.reject(r);var o=t.reduce(function(t,e){return e&&e.then?t+1:t},0);0==o&&n.resolve(t),t.map(function(t){t&&t.then&&t.then(function(t){e(null,t)},e)})}if(1!=this._d)throw TypeError();if(!(t instanceof Array))return r.reject(TypeError());if(0==t.length)return new r;var n=new r;return e(),n},r._d=1,e.exports=r}()}).call(e,function(){return this}(),n(2)(t))},function(t){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}}]);